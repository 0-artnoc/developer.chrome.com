:root {
  // Set theme aliases
  --color-mode: 'light';
  --color-bg: #{get-color('white')};
  --color-bg-shade: #{get-color('grey-100')};
  --color-text: #{get-color('grey-800')};
  --color-secondary-text: #{get-color('grey-700')};
  --color-primary: #{get-color('blue-600')};
  --color-primary-shade: #{get-color('blue-700')};
  --color-secondary: #{get-color('blue-50')};
  --color-tertiary: #{get-color('green-600')};
  --color-quaternary: #{get-color('green-600')};
  --color-hairline: #{get-color('grey-300')};
  --color-selection-text: #{get-color('white')};
  --color-selection-bg: #{get-color('grey-800')};
  --color-error-bg: #{get-color('red-600')};
  --color-error-text: #{get-color('white')};
  --color-side-nav-hover: #{get-color('grey-100')};
  --color-side-nav-active: #{get-color('blue-700')};

  --color-link-primary-active: #{get-color('blue-900')};
  --color-link-primary-visited: #{get-color('purple-900')};

  --color-code-bg: #{get-color('grey-50')};
  --color-code-comment: #{get-color('grey-500')};
  --color-code-string: #{get-color('blue-900')};
  --color-code-tag: #{get-color('green-600')};
  --color-code-number: #{get-color('blue-700')};
  --color-code-attr: #{get-color('pink-700')};
  --color-code-highlight: #{get-color('yellow-200')};
  --color-code-add: #{get-color('green-200')};
  --color-code-remove: #{get-color('red-200')};

  --color-project-default: #{get-color('blue-700')};
  --color-project-handbook: #{get-color('red-700')};

  --color-aside-note-text: #{get-color('blue-900')};
  --color-aside-note-bg: #{rgb(get-color('blue-50'), 0.4)};
  --color-aside-caution-text: #{darken(get-color('yellow-900'), 10%)}; // darken to meet a11y contrast
  --color-aside-caution-bg: #{rgb(get-color('yellow-50'), 0.4)};
  --color-aside-warning-text: #{get-color('red-900')};
  --color-aside-warning-bg: #{rgb(get-color('red-50'), 0.4)};
  --color-aside-success-text: #{get-color('green-900')};
  --color-aside-success-bg: #{rgb(get-color('green-50'), 0.4)};
  --color-aside-gotchas-text: #{get-color('purple-900')};
  --color-aside-gotchas-bg: #{rgb(get-color('purple-50'), 0.4)};
  --color-aside-key-text: #{get-color('pink-900')};
  --color-aside-key-bg: #{rgb(get-color('pink-50'), 0.4)};
  --color-aside-codelab-text: #{get-color('cyan-900')};
  --color-aside-codelab-bg: #{rgb(get-color('cyan-50'), 0.4)};
}

@mixin dark-mode() {
  // TODO: Jiwoong is still working on this palette
  // --color-bg: #{get-color('grey-900')};
  // --color-text: #{get-color('grey-200')};
  // --color-secondary-text: #{get-color('grey-500')};
  // --color-hairline: #{get-color('grey-700')};
  // --color-selection-text: #{get-color('white')};
  // --color-selection-bg: #{get-color('grey-800')};
  // --color-error-bg: #{get-color('red-600')};
  // --color-error-text: #{get-color('white')};
  // --color-primary: #{get-color('blue-600')};
}

// Default to showing the dark mode theme if the user has enabled
// prefers-color-scheme.
// But, give the user the option to override the media query by clicking a
// button to toggle the data-user-color-scheme attribute.
// https://hankchizljaw.com/wrote/create-a-user-controlled-dark-or-light-mode/
@media (prefers-color-scheme: dark) {
  :root {
    --color-mode: 'dark';
  }

  :root:not([data-user-color-scheme]) {
    @include dark-mode();
  }
}

[data-user-color-scheme='dark'] {
  @include dark-mode();
}
