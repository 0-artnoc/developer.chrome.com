{% from 'macros/card-authors.njk' import cardAuthors with context %}

{% macro featuredPostCard(post) %}
{% set pd = post.data %}
<div class="masonry-grid__item featured-card hairline rounded-lg pad-300 md:pad-400 width-full">
  <div class="card-title-bar color-blue-medium">
    {% include 'icons/blog.svg' %}
    <span class="gap-left-300 flex-1 user-select-none">
      {{ 'i18n.nav.side_nav.blog' | i18n(locale) }}
    </span>
    <div class="card-title-bar__controls">
      {% include 'icons/keyboard-arrow-left.svg' %}
      {% include 'icons/keyboard-arrow-right.svg' %}
    </div>
  </div>

  {#
    The thumbnail image defines its own bottom margin because it's optional
    and needs to push the title down. If the title defined its own top
    margin and the thumbnail was omitted then there would be too much space
    between the title and the title-bar.
  #}
  {% if pd.hero %}
    <div class="featured-card__thumbnail gap-top-400 gap-bottom-300">
      <a class="display-block" href="{{ post.url }}">
        {% img className="rounded-100 object-fit-cover width-full", src=pd.hero, alt=pd.alt, width="414", height="200", sizes="(min-width: 36em) 414px, calc(100vw - 80px)", lazy=false %}
      </a>
    </div>
  {% endif %}

  <h2 class="type--h3-card">
    <a class="color-text surface" href="{{ post.url }}">
      {{ pd.title }}
    </a>
  </h2>

  <p class="type--caption gap-top-200">
    {{ pd.description }}
  </p>

  {% if pd.authors and pd.authors.length %}
    <div class="gap-top-400">
      {{ cardAuthors(pd.authors, pd.date) }}
    </div>
  {% endif %}

  <a href="/blog" class="display-inline-flex color-primary surface gap-top-400">
    {{ 'i18n.common.see_all_articles' | i18n(locale) }}
  </a>
</div>
{% endmacro %}