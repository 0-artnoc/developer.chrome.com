{#
  This is run for every top-level API namespace, e.g., for "chrome.accessibilityFeatures".
#}

{% extends "layouts/base.njk" %}

{% block title_bar %}
  {% include 'partials/breadcrumbs.njk' %}
{% endblock %}

{% block content %}
  {% import 'macros/render-type.njk' as macros with context %}

  <div class="display-flex">

    <article class="stack measure-long center-margin pad-400">
      <h1 class="type--h2">{{ title }}</h1>

      <div class="code-sections code-sections--summary">
        <ul class="stack flow-space-300">
          <li>
            <div>Description</div>
            <div>
              <p>{{ namespace.comment | safe }}</p>
            </div>
          </li>
          {% if namespace.permissions.length %}
            <li>
              <div>Permissions</div>
              <div>
                {% for permission in namespace.permissions %}
                  <code>{{ permission }}</code>
                {% endfor %}
              </div>
            </li>
          {% endif %}
          {% if namespace.channel !== 'stable' %}
            <li>
              <div>Availability</div>
              <div>
                {% if namespace.channel === 'dev' %}
                  Dev channel only.
                {% else %}
                  Beta and Dev channels only.
                {% endif %}
              </div>
            </li>
          {% endif %}
        </ul>
      </div>

      <h2 class="type--h3">Summary</h2>
      <div class="code-sections code-sections--summary">
        <ul class="stack flow-space-300">
          {{ macros.renderSummarySection(namespace.name, 'Types', 'type', namespace.types) }}
          {{ macros.renderSummarySection(namespace.name, 'Properties', 'property', namespace.properties) }}
          {{ macros.renderSummarySection(namespace.name, 'Methods', 'method', namespace.methods) }}
        </ul>
      </div>

      {{ macros.renderPrimarySection(namespace.name, 'Types', 'type', namespace.types) }}
      {{ macros.renderPrimarySection(namespace.name, 'Properties', 'property', namespace.properties) }}
      {{ macros.renderPrimarySection(namespace.name, 'Methods', 'method', namespace.methods) }}

    </article>

  </div>
{% endblock %}